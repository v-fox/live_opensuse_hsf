#
# This file is parsed by pam_env module
#
# Syntax: simple "KEY=VAL" pairs on seperate lines
#
# avoiding vi
EDITOR=nano
SUDO_EDITOR=kate

## we want to set it in $(yast2 proxy)
# Tor Proxy
#http_proxy=127.0.0.1:8080
#https_proxy=127.0.0.1:8080
#ftp_proxy=127.0.0.1:8080
#no_proxy="localhost,127.0.0.1/8,10.0.0.0/8,192.168.0.0/16,localaddress,.localdomain.com"

#HTTP_PROXY=127.0.0.1:8080
#HTTPS_PROXY=127.0.0.1:8080
#FTP_PROXY=127.0.0.1:8080
#NO_PROXY="localhost,127.0.0.1/8,10.0.0.0/8,192.168.0.0/16,localaddress,.localdomain.com"

# for hugetlbfs usage
HUGETLB_PATH=/dev/hugepages

# for enca/enconv
DEFAULT_CHARSET=UTF-8

# make sure that DPI is honored
# https://wiki.archlinux.org/index.php/HiDPI
QT_AUTO_SCREEN_SCALE_FACTOR=1

# GTK3 and X itself needs patching to remove hardcoding for 96 dpi
# input method
#QT_IM_MODULE=ibus
#GTK_IM_MODULE=ibus
#XMODIFIERS=@im=ibus

# for QT
#QT_GRAPHICSSYSTEM=raster

# for GTK/Cairo
GTKCAIRO_BACKEND=gl

# Libre/OO stuff
OOO_FORCE_DESKTOP="kde4"

# atk/gtk missing accessibility crutch. http://debbugs.gnu.org/cgi/bugreport.cgi?bug=15154#11
NO_AT_BRIDGE=1

# enabling pretty password prompter
# LXQt:'/usr/bin/lxqt-openssh-askpass', GNOME:'/usr/lib64/seahorse/seahorse-ssh-askpass', KDE:'/usr/lib/ssh/ksshaskpass'
#SUDO_ASKPASS=/usr/lib/ssh/ksshaskpass
#SSH_ASKPASS=/usr/lib/ssh/ksshaskpass
#GIT_ASKPASS=/usr/lib/ssh/ksshaskpass

# https://www.mesa3d.org/envvars.html
# for dual-GPU bullshit
# may lead to unintended consequences, like having artifacts or no vsync
DRI_PRIME=1
# force software rendering ? should be used if hardware one id broken but
# video output is still active or if you use USB video output dongles
#LIBGL_ALWAYS_SOFTWARE=1
# use 'swr' for fast AVX backend or 'llvmpipe' for generic backend
# 'swrast' is obsolete but may also exist
#GALLIUM_DRIVER=swr
# this should be in ~/.drirc made by `driconf`
# enabling multi-threaded OpenGL in Mesa but it may fail on old hardware
# https://www.gamingonlinux.com/wiki/Performance_impact_of_Mesa_glthread
#mesa_glthread=true
# enabling texture compression support
#force_s3tc_enable=true
# MLAA & MSAA in Mesa
# https://patchwork.freedesktop.org/patch/219866/
#EQAA=8,4,2
#pp_jimenezmlaa=16
# playing with fire
MESA_BACK_BUFFER=pixmap
MESA_GLX_DEPTH_BITS=24
MESA_GLX_ALPHA_BITS=8
# open radeon driver goodness
#R600_STREAMOUT=1
#R600_GLSL130=1
#R600_HYPERZ=1
#R600_TILING=1
#R600_SURF=1
R600_DEBUG="sbcl,switch_on_eop,forcedma,precompile,hyperz,sisched"
# for OpenCL support on pre-HD7xxx cards with LLVM backend (brakes rendering)
R600_DEBUG=",llvm"
# for better shader rendering but without OpenCL
R600_DEBUG=",sb"
# for GL on post-r600 GPUs
AMD_DEBUG="w32ge,w32ps,w32cs,w64ge,w64ps,w64cs,switch_on_eop,dpbb,dfsm"
# https://gitlab.freedesktop.org/mesa/mesa/-/merge_requests/4895
#AMD_DEBUG+=",forcedma"
# for Vulkan on AMD GPUs
RADV_PERFTEST="cswave32,dccmsaa,gewave32,pswave32,dfsm"
#RADV_PERFTEST+="localbos,bolist"
# experimental shader compiler for Vulkan Radeon framework
# somehow it breaks display timings on mpv when fullscreened
#RADV_PERFTEST+=",aco"

# SDL tuning
SDL_VIDEO_YUV_HWACCEL=1

# kmix crutch to prevent it from fiddling with PA because this POS can't control both real DACs and PA simultaneously
KMIX_PULSEAUDIO_DISABLE=1

# PA echo cancellation
#PULSE_PROP="filter.want=echo-cancel"

# gstreamer audio processing quality
# https://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-base-libs/html/gst-plugins-base-libs-GstAudio.html
#GST_AUDIO_DEF_RATE=48000
#GST_AUDIO_DEF_FORMAT=F32
GST_AUDIO_RESAMPLER_OPT_FILTER_MODE=GST_AUDIO_RESAMPLER_FILTER_MODE_FULL
GST_AUDIO_RESAMPLER_OPT_CUTOFF=1.0
GST_AUDIO_RESAMPLER_QUALITY_MIN=6
GST_AUDIO_RESAMPLER_QUALITY_DEFAULT=9
GST_AUDIO_RESAMPLER_OPT_FILTER_MODE_THRESHOLD=335544320

# target PW latency in fractions of a second, has to be sufficient for entire software pipeline
#PIPEWIRE_LATENCY=384/48000
PIPEWIRE_LINK_PASSIVE=true

# supposedly, this is disabled by default for some reason
VAAPI_MPEG4_ENABLED=1
# hardware video decoding stuff. READ gnote NOTES before changing !
#LIBVA_DRIVER_NAME=gallium
#VDPAU_DRIVER=r600

# needed for LADSPA-using programs
LADSPA_PATH=/usr/lib64/ladspa

# steam crutches. read up on http://en.opensuse.org/Steam
STEAM_RUNTIME=1
STEAM_FRAME_FORCE_CLOSE=1

# Firefox crutches:
# GPU acceleration
MOZ_USE_OMTC=1
# proper input
MOZ_USE_XINPUT2=1
# bury GLX
MOZ_X11_EGL=1
# actually enable Wayland support
MOZ_ENABLE_WAYLAND=1 

# making root apps obey
#XCURSOR_THEME=ComixCursors-Green
#XCURSOR_SIZE=40

# secret wine crutches
WINEESYNC=1
WINEFSYNC=1

# better default compression
#gzip and bzip2 are too stupid to be replaced or configured like that, making alias for shell should be better
#GZIP=pigz
#BZIP2=pbzip2
XZ_OPT="--threads=0 -8 --memlimit-compress=75%"
